% ============================================
% Topic 01: Circuit Theory / ç”µè·¯ç†è®º
% ============================================
\section{ç”µè·¯ç†è®º / Circuit Theory}

% --------------------------------------------
% 1. Kirchhoff's Laws
% --------------------------------------------
\begin{studybox}{åŸºå°”éœå¤«å®šå¾‹ (Kirchhoff's Laws)}

\textbf{æ¦‚å¿µ (CN)}: åŸºå°”éœå¤«ç”µæµå®šå¾‹ (KCL) ä¸åŸºå°”éœå¤«ç”µå‹å®šå¾‹ (KVL)

\textbf{Term (EN)}: Kirchhoff's Current Law (KCL) \& Kirchhoff's Voltage Law (KVL)

\tcblower

\textbf{å®šä¹‰}:
\begin{itemize}[leftmargin=*]
    \item \textbf{KCL (ç”µæµå®šå¾‹)}: æµå…¥ä»»ä¸€èŠ‚ç‚¹çš„ç”µæµä¹‹å’Œç­‰äºæµå‡ºè¯¥èŠ‚ç‚¹çš„ç”µæµä¹‹å’Œã€‚åŸºäº\textbf{ç”µè·å®ˆæ’}ã€‚
    \item \textbf{KVL (ç”µå‹å®šå¾‹)}: æ²¿ä»»ä¸€é—­åˆå›è·¯ï¼Œæ‰€æœ‰ç”µå‹é™çš„ä»£æ•°å’Œä¸ºé›¶ã€‚åŸºäº\textbf{èƒ½é‡å®ˆæ’}ã€‚
\end{itemize}

\textbf{Key Insight (EN)}: KCL ensures charge is conserved at nodes; KVL ensures energy is conserved around loops. These are the foundation of ALL circuit analysis.

\end{studybox}

\begin{formulabox}
\textbf{KCL (èŠ‚ç‚¹åˆ†æ)}:
\begin{equation}
    \sum_{k=1}^{n} I_k = 0
\end{equation}
å…¶ä¸­ $I_k$ æ˜¯è¿›å…¥èŠ‚ç‚¹çš„ç”µæµï¼ˆæµå‡ºä¸ºè´Ÿï¼‰ã€‚

\textbf{KVL (å›è·¯åˆ†æ)}:
\begin{equation}
    \sum_{k=1}^{n} V_k = 0
\end{equation}
å…¶ä¸­ $V_k$ æ˜¯å›è·¯ä¸­çš„ç”µå‹é™ã€‚
\end{formulabox}

% --------------------------------------------
% 2. Thevenin & Norton Equivalents
% --------------------------------------------
\begin{studybox}{æˆ´ç»´å—ä¸è¯ºé¡¿ç­‰æ•ˆ (Thevenin \& Norton)}

\textbf{æ¦‚å¿µ (CN)}: ä»»ä½•çº¿æ€§äºŒç«¯ç½‘ç»œå¯ä»¥ç­‰æ•ˆä¸ºä¸€ä¸ªç”µå‹æºä¸²è”ç”µé˜»ï¼ˆæˆ´ç»´å—ï¼‰æˆ–ä¸€ä¸ªç”µæµæºå¹¶è”ç”µé˜»ï¼ˆè¯ºé¡¿ï¼‰ã€‚

\textbf{Term (EN)}: Thevenin Equivalent \& Norton Equivalent

\tcblower

\textbf{æˆ´ç»´å—å®šç†}:
\begin{itemize}[leftmargin=*]
    \item $V_{Th}$ = å¼€è·¯ç”µå‹ (Open-circuit voltage)
    \item $R_{Th}$ = ä»ç«¯å£çœ‹å…¥çš„ç­‰æ•ˆç”µé˜»ï¼ˆæ‰€æœ‰ç‹¬ç«‹æºç½®é›¶ï¼‰
\end{itemize}

\textbf{è¯ºé¡¿å®šç†}:
\begin{itemize}[leftmargin=*]
    \item $I_N$ = çŸ­è·¯ç”µæµ (Short-circuit current)
    \item $R_N = R_{Th}$ï¼ˆç­‰æ•ˆç”µé˜»ç›¸åŒï¼‰
\end{itemize}

\textbf{Key Insight}: Thevenin/Norton simplifies complex circuits into a simple source + resistor for load analysis.

\end{studybox}

\begin{formulabox}
\textbf{æˆ´ç»´å—ç­‰æ•ˆç”µè·¯}:
\begin{equation}
    V_{load} = V_{Th} - I_{load} \cdot R_{Th}
\end{equation}

\textbf{è¯ºé¡¿ç­‰æ•ˆç”µè·¯}:
\begin{equation}
    I_N = \frac{V_{Th}}{R_{Th}}
\end{equation}

\textbf{è½¬æ¢å…³ç³»}:
\begin{equation}
    V_{Th} = I_N \cdot R_N, \quad R_{Th} = R_N
\end{equation}
\end{formulabox}

% --------------------------------------------
% 3. RLC Circuits & Resonance
% --------------------------------------------
\begin{studybox}{RLC ç”µè·¯ä¸è°æŒ¯ (RLC Circuits \& Resonance)}

\textbf{æ¦‚å¿µ (CN)}: RLC ä¸²è”/å¹¶è”ç”µè·¯åœ¨ç‰¹å®šé¢‘ç‡ä¸‹å‘ç”Ÿè°æŒ¯ï¼Œé˜»æŠ—æœ€å°/æœ€å¤§ã€‚

\textbf{Term (EN)}: Series/Parallel Resonance, Quality Factor (Q)

\tcblower

\textbf{ä¸²è”è°æŒ¯} (Series Resonance):
\begin{itemize}[leftmargin=*]
    \item è°æŒ¯é¢‘ç‡: $f_0 = \frac{1}{2\pi\sqrt{LC}}$
    \item é˜»æŠ—æœ€å°: $Z_{min} = R$
    \item ç”µæµæœ€å¤§
\end{itemize}

\textbf{å¹¶è”è°æŒ¯} (Parallel Resonance):
\begin{itemize}[leftmargin=*]
    \item é˜»æŠ—æœ€å¤§
    \item ç”µæµæœ€å°
\end{itemize}

\textbf{Key Insight}: Resonance is used in oscillators, filters, and tuning circuits. Your ESP32's crystal oscillator relies on piezoelectric resonance.

\end{studybox}

\begin{formulabox}
\textbf{è°æŒ¯é¢‘ç‡}:
\begin{equation}
    \omega_0 = \frac{1}{\sqrt{LC}}, \quad f_0 = \frac{1}{2\pi\sqrt{LC}}
\end{equation}

\textbf{å“è´¨å› æ•° (Quality Factor)}:
\begin{equation}
    Q = \frac{\omega_0 L}{R} = \frac{1}{\omega_0 CR} = \frac{1}{R}\sqrt{\frac{L}{C}}
\end{equation}

\textbf{å¸¦å®½}:
\begin{equation}
    BW = \frac{f_0}{Q}
\end{equation}
\end{formulabox}

% --------------------------------------------
% 4. Power in AC Circuits
% --------------------------------------------
\begin{studybox}{äº¤æµç”µè·¯ä¸­çš„åŠŸç‡ (Power in AC Circuits)}

\textbf{æ¦‚å¿µ (CN)}: äº¤æµç”µè·¯ä¸­å­˜åœ¨æœ‰åŠŸåŠŸç‡ã€æ— åŠŸåŠŸç‡å’Œè§†åœ¨åŠŸç‡ã€‚

\textbf{Term (EN)}: Real Power (P), Reactive Power (Q), Apparent Power (S), Power Factor

\tcblower

\textbf{ä¸‰ç§åŠŸç‡}:
\begin{itemize}[leftmargin=*]
    \item \textbf{æœ‰åŠŸåŠŸç‡ P}: å®é™…æ¶ˆè€—çš„åŠŸç‡ [W]
    \item \textbf{æ— åŠŸåŠŸç‡ Q}: å‚¨èƒ½å…ƒä»¶ï¼ˆL/Cï¼‰äº¤æ¢çš„åŠŸç‡ [VAR]
    \item \textbf{è§†åœ¨åŠŸç‡ S}: ç”µæºæä¾›çš„æ€»åŠŸç‡ [VA]
\end{itemize}

\textbf{Key Insight}: Power factor tells you how efficiently power is being used. Low power factor = wasted energy.

\end{studybox}

\begin{formulabox}
\textbf{åŠŸç‡å…³ç³»}:
\begin{equation}
    S = \sqrt{P^2 + Q^2} = V_{rms} \cdot I_{rms}
\end{equation}

\textbf{æœ‰åŠŸåŠŸç‡}:
\begin{equation}
    P = V_{rms} \cdot I_{rms} \cdot \cos\phi = S \cdot \cos\phi
\end{equation}

\textbf{æ— åŠŸåŠŸç‡}:
\begin{equation}
    Q = V_{rms} \cdot I_{rms} \cdot \sin\phi = S \cdot \sin\phi
\end{equation}

\textbf{åŠŸç‡å› æ•°}:
\begin{equation}
    \cos\phi = \frac{P}{S}
\end{equation}
\end{formulabox}

% --------------------------------------------
% Thesis Connection
% --------------------------------------------
\begin{thesisbox}
\textbf{ESP32 ç”µæºè®¾è®¡}:

ä½ çš„ ESP32-S3 é€šè¿‡ USB (5V) ä¾›ç”µï¼Œç»è¿‡ LDO çº¿æ€§ç¨³å‹å™¨é™å‹åˆ° 3.3Vã€‚

\textbf{KCL åº”ç”¨}: æµå…¥ LDO çš„ç”µæµ = ESP32 æ¶ˆè€—ç”µæµ + çƒ­æŸè€—ã€‚

\textbf{åŠŸç‡åº”ç”¨}: ESP32 å³°å€¼åŠŸè€—çº¦ 500mW ($P = U \cdot I = 3.3V \times 150mA$)ã€‚

\textbf{Jan Koller é—®é¢˜}: "How is power dissipated in the LDO?"

\textbf{ç­”æ¡ˆ}: $P_{LDO} = (V_{in} - V_{out}) \times I = (5V - 3.3V) \times 0.15A = 0.255W$
\end{thesisbox}

% --------------------------------------------
% Exam Strategy
% --------------------------------------------
\begin{warnbox}[ğŸ”´ è€ƒè¯•é™·é˜± / Exam Pitfalls]
\begin{enumerate}
    \item \textbf{å¿˜è®°ç”µæµæ–¹å‘}: KVL/KCL è¦æ±‚ç»Ÿä¸€çš„ç”µæµ/ç”µå‹å‚è€ƒæ–¹å‘ã€‚
    \item \textbf{æ··æ·† RMS ä¸å³°å€¼}: $V_{peak} = \sqrt{2} \cdot V_{rms}$ã€‚
    \item \textbf{åŠŸç‡å› æ•°ç¬¦å·}: å®¹æ€§è´Ÿè½½åŠŸç‡å› æ•°è¶…å‰ï¼Œæ„Ÿæ€§æ»åã€‚
\end{enumerate}
\end{warnbox}
